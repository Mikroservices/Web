<div *ngIf="!isSuccessMode()" class="row">
    <div fxFlex="1%" fxFlex.gt-sm="30%" flFlex.gt-lg="40%"></div>

    <div fxFlex>
        <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
            <mat-card class="form-card">
                <mat-card-header>
                    <mat-card-title>Create new account</mat-card-title>
                </mat-card-header>

                <mat-card-content>
                    <div fxLayout="column" fxLayoutGap="20px">
                        <mat-form-field floatLabel="always">
                            <input matInput name="userName" [(ngModel)]="user.userName" #userName="ngModel" type="text" placeholder="Username" aria-label="Username" required />
                            <mat-error *ngIf="userName.dirty && userName.invalid && userName.errors.required">Enter username.</mat-error>
                        </mat-form-field>

                        <mat-form-field floatLabel="always">
                            <input matInput name="email" [(ngModel)]="user.email" #email="ngModel" type="email" placeholder="Email" aria-label="Email" required />
                            <mat-error *ngIf="email.dirty && email.invalid && email.errors.required">Enter email.</mat-error>
                        </mat-form-field>

                        <mat-form-field floatLabel="always">
                            <input matInput name="name" [(ngModel)]="user.name" #name="ngModel" type="text" placeholder="Name" aria-label="Name" required />
                            <mat-error *ngIf="name.dirty && name.invalid && name.errors.required">Enter name.</mat-error>
                        </mat-form-field>

                        <mat-form-field floatLabel="always">
                            <input matInput name="password" [(ngModel)]="user.password" #password="ngModel" type="password" placeholder="Password" aria-label="Password" required />
                            <mat-error *ngIf="password.dirty && password.invalid && password.errors.required">Enter password.</mat-error>
                        </mat-form-field>
                    </div>
                </mat-card-content>
                <mat-card-actions>
                    <div class="login-actions">
                        <button type="submit" mat-flat-button (click)="registerMode = RegisterMode.Register" [disabled]="isSubmittingMode()" color="primary" aria-label="Register">Register</button>
                        <mat-spinner *ngIf="isSubmittingMode()" [diameter]="24" class="display-inline margin-left-10"></mat-spinner>
                        <span *ngIf="isErrorMode()" class="mat-small error margin-left-10">{{ errorMessage }}</span>
                    </div>
                </mat-card-actions>
            </mat-card>
        </form>
    </div>
    <div fxFlex="1%" fxFlex.gt-sm="30%" flFlex.gt-lg="40%"></div>
</div>

<div *ngIf="isSuccessMode()" fxLayout>
    <div fxFlex="1%" fxFlex.gt-sm="30%" flFlex.gt-lg="40%"></div>
    <div fxFlex>

        <h1><i class="fas fa-envelope"></i> Welcome to letterer.me!</h1>
        <p>
            <strong>Congratulations!</strong> Your letterer.me account has been successfully created.
            We've sent you a link to confirm your email address. Please check your inbox.
            It could take up to 10 minutes to show up in your inbox.
        </p>
        <p>
            In the meantime, you can go back to the <a routerLink="/home">homepage</a>.
        </p>
    </div>
    <div fxFlex="1%" fxFlex.gt-sm="30%" flFlex.gt-lg="40%"></div>
</div>